<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dulcería Susantojos</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{
    font-family:'Poppins',sans-serif;
    height:100vh;
    background:url('dulces.jpg') center/cover no-repeat;
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    text-align:center;color:white;overflow:hidden;
  }
  .overlay{
    position:absolute;inset:0;background:rgba(0,0,0,0.4);z-index:0;
  }
  .content{position:relative;z-index:1;}
  .logo{
    font-size:3rem;font-weight:700;text-shadow:3px 3px 12px rgba(0,0,0,0.6);margin-bottom:20px;
  }
  .buttons{display:flex;gap:20px;justify-content:center;}
  button{
    background-color:#fff;color:#222;border:none;padding:15px 30px;border-radius:12px;
    cursor:pointer;font-size:1.1rem;font-weight:600;
    box-shadow:0 4px 10px rgba(0,0,0,0.2);transition:all 0.3s;
  }
  button:hover{background-color:#ff4081;color:white;transform:translateY(-2px);}
  
  /* Modal */
  .modal{
    display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);
    justify-content:center;align-items:center;z-index:10;
  }
  .modal-content{
    background:white;color:#222;padding:25px;border-radius:15px;
    width:90%;max-width:420px;height:90vh;display:flex;flex-direction:column;
  }
  .close{float:right;cursor:pointer;font-size:1.4rem;}
  .modal-content h2{text-align:center;margin-bottom:10px;}
  .scroll-area{
    flex:1;overflow-y:auto;margin-top:10px;padding-right:5px;
  }
  .product{
    display:flex;justify-content:space-between;align-items:center;
    margin:6px 0;padding:8px 10px;background:#f9f9f9;border-radius:8px;
    box-shadow:inset 0 0 4px rgba(0,0,0,0.05);
  }
  .product label{flex:1;font-weight:500;}
  .product input{
    width:60px;text-align:center;border:1px solid #ccc;
    border-radius:6px;padding:4px;
  }
  .total{margin-top:10px;font-weight:bold;text-align:right;}
  select,input,textarea{
    width:100%;margin:6px 0;padding:8px;border:1px solid #ccc;border-radius:8px;
  }
  textarea{resize:none;height:60px;}
</style>
</head>
<body>

<div class="overlay"></div>

<div class="content">
  <img src="logoSusa.png" alt="Logo Dulcería Moderna" class="logo-img">
<div class="buttons">
    <button id="pedidoBtn">Hacer pedido</button>
    <button onclick="window.open('https://maps.google.com?q=dulceria','_blank')">Cómo llegar</button>
  </div>
</div>

<!-- Modal -->
<div class="modal" id="pedidoModal">
  <div class="modal-content">
    <span class="close" id="cerrarModal">&times;</span>
    <h2>Selecciona tus productos</h2>

    <div class="scroll-area" id="productosContainer"></div>

    <div class="total">Total: $<span id="total">0</span></div>
    <hr>

    <label>Dirección:</label>
    <textarea id="direccion" placeholder="Calle 2 # 2 - 20, Cogua"></textarea>

    <label>Teléfono:</label>
    <input type="tel" id="telefono" placeholder="573184468410">

    <label>Forma de pago:</label>
    <select id="pago">
      <option value="Nequi">Nequi</option>
      <option value="Daviplata">Daviplata</option>
      <option value="Contra entrega">Contra entrega</option>
    </select>

    <button id="enviarPedido">Enviar pedido</button>
  </div>
</div>

<script>
  const productos = [
    {nombre:'Bombón', precio:1500},
    {nombre:'Caramelo', precio:800},
    {nombre:'Chicle', precio:2000},
    {nombre:'Chocolatina', precio:500},
    {nombre:'Galleta', precio:1000},
    {nombre:'Gomitas', precio:1000},
    {nombre:'Malvavisco', precio:1200},
    {nombre:'Paleta', precio:1200},
    {nombre:'Pirulí', precio:1800},
    {nombre:'Turrón', precio:2500},
    {nombre:'Maní dulce', precio:700},
    {nombre:'Masmelos mini', precio:900},
    {nombre:'Chocobolas', precio:1500},
    {nombre:'Rositas de maíz', precio:1200},
    {nombre:'Nubes', precio:1300},
  ].sort((a,b)=>a.nombre.localeCompare(b.nombre));

  const pedidoBtn=document.getElementById('pedidoBtn');
  const modal=document.getElementById('pedidoModal');
  const cerrarModal=document.getElementById('cerrarModal');
  const productosContainer=document.getElementById('productosContainer');
  const totalEl=document.getElementById('total');
  const enviarPedido=document.getElementById('enviarPedido');

  pedidoBtn.onclick=()=>modal.style.display='flex';
  cerrarModal.onclick=()=>modal.style.display='none';
  window.onclick=(e)=>{if(e.target===modal)modal.style.display='none';};

  productos.forEach((p,i)=>{
    const div=document.createElement('div');
    div.classList.add('product');
    div.innerHTML=`
      <label>${p.nombre} - $${p.precio}</label>
      <input type="number" min="0" value="0" id="prod${i}">
    `;
    productosContainer.appendChild(div);
  });

  function calcularTotal(){
    let total=0;
    productos.forEach((p,i)=>{
      const cantidad=parseInt(document.getElementById(`prod${i}`).value)||0;
      total+=p.precio*cantidad;
    });
    totalEl.textContent=total;
  }

  productosContainer.addEventListener('input',calcularTotal);

  enviarPedido.onclick=()=>{
    const direccion=document.getElementById('direccion').value.trim();
    const telefono=document.getElementById('telefono').value.trim();
    const pago=document.getElementById('pago').value;

    if(!direccion||!telefono){alert('Completa dirección y teléfono');return;}

    let mensaje='Pedido Dulcería Moderna:\n';
    let total=0;
    productos.forEach((p,i)=>{
      const cantidad=parseInt(document.getElementById(`prod${i}`).value)||0;
      if(cantidad>0){
        mensaje+=`- ${p.nombre} x${cantidad} = $${p.precio*cantidad}\n`;
        total+=p.precio*cantidad;
      }
    });
    if(total===0){alert('Selecciona al menos un producto');return;}
    mensaje+=`\nTotal: $${total}\nDirección: ${direccion}\nTeléfono: ${telefono}\nPago: ${pago}`;

    const numero='573001234567'; // ← Cambia este número
    const url=`https://wa.me/${numero}?text=${encodeURIComponent(mensaje)}`;
    window.open(url,'_blank');
  };
</script>

</body>
</html>


